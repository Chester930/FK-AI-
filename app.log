2025-01-11 01:00:45,687 - INFO - Starting LINE Bot service...
2025-01-11 01:00:52,569 - ERROR - Could not get ngrok URL
2025-01-11 01:00:52,569 - ERROR - Error starting LINE Bot: Failed to get ngrok URL
2025-01-11 01:01:19,649 - INFO - Starting LINE Bot service...
2025-01-11 01:01:24,756 - INFO - Ngrok URL: https://6432-61-61-4-25.ngrok-free.app
2025-01-11 01:01:24,757 - INFO - LINE Bot Webhook URL: https://6432-61-61-4-25.ngrok-free.app/callback
2025-01-11 01:01:45,843 - ERROR - Error starting LINE Bot: cannot import name 'FILE_SETTINGS' from 'config' (E:\Python Project\FK_AI_Theology_Doctor\config.py)
2025-01-11 01:15:03,147 - WARNING - 
            Êú™ÊâæÂà∞ ffmpegÔºåË™ûÈü≥ÂäüËÉΩÂèØËÉΩÁÑ°Ê≥ïÊ≠£Â∏∏Â∑•‰Ωú„ÄÇ
            Ë´ãÂÆâË£ù ffmpeg:
            - Windows: https://ffmpeg.org/download.html
            - Linux: sudo apt-get install ffmpeg
            - Mac: brew install ffmpeg
            
2025-01-11 01:15:03,181 - INFO - Starting LINE Bot service...
2025-01-11 01:15:08,440 - INFO - Ngrok URL: https://42a7-61-61-4-25.ngrok-free.app
2025-01-11 01:15:08,441 - INFO - LINE Bot Webhook URL: https://42a7-61-61-4-25.ngrok-free.app/callback
2025-01-11 01:15:23,736 - INFO - Scheduler started
2025-01-11 01:15:23,744 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 01:15:23,745 - INFO - Added daily notification: Êó©ÂÆâÔºÅÈ°òÁ•ûÁ•ùÁ¶èÂ§ßÂÆ∂‰ªäÂ§©ÊúâÁæéÂ•ΩÁöÑ‰∏ÄÂ§©ÔºÅ...
2025-01-11 01:15:23,746 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 01:15:23,747 - INFO - Added daily notification: ÊôöÂÆâÔºÅÈ°òÁ•û‰øùÂÆàÂ§ßÂÆ∂ÊúâÂÄãÂ•ΩÂ§¢ÔºÅ...
2025-01-11 01:15:23,748 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 01:15:23,749 - INFO - Added weekly notification: Êú¨ÈÄ±ËÆÄÁ∂ìÈÄ≤Â∫¶ÊèêÈÜíÔºö
1. Ââµ‰∏ñË®òÁ¨¨‰∏ÄÁ´†
2. Ë©©ÁØáÁ¨¨‰∏ÄÁØá...
2025-01-11 01:15:23,750 - ERROR - Error adding specific date notification: can't compare offset-naive and offset-aware datetimes
2025-01-11 01:15:24,020 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 01:15:23]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 01:15:23

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 01:15:24,022 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 01:15:24,023 - INFO - Chat history loaded successfully
2025-01-11 01:15:24,026 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-01-11 01:15:24,027 - INFO - Added job "save_chat_history" to job store "default"
2025-01-11 01:15:24,028 - INFO - Scheduler started
2025-01-11 01:15:24,029 - INFO - LINE Bot service started on port 5000
2025-01-11 01:15:24,050 - INFO -  * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
2025-01-11 01:15:37,116 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075180902350851","quoteToken":"yafNflnQng3nsakB7UJ5HmTvg-mWtI96Yu8pIbhAPK61A4QH7Tl3vlDOz8bX2yKKTcHVeS1Krfjlo0roEuIsbc3E237VddZ5TRYLuB8KQaFTxsPNd49qzih365Fhh-aFt-6wN825IUOQxs-kyNgrTw","text":"ÔºÅ‰Ω†Â•Ω"},"webhookEventId":"01JH8KDPP8W1KDZX081TR6H4Z9","deliveryContext":{"isRedelivery":false},"timestamp":1736529336527,"source":{"type":"group","groupId":"C6ab768f2ac52e2e4fe4919191d8509b3","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"48cbcec8b0e74dffbbf80b03601c5c75","mode":"active"}]}
2025-01-11 01:15:37,120 - INFO - Received message event: type='message' source=GroupSource(type='group', group_id='C6ab768f2ac52e2e4fe4919191d8509b3', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529336527 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KDPP8W1KDZX081TR6H4Z9' delivery_context=DeliveryContext(is_redelivery=False) reply_token='48cbcec8b0e74dffbbf80b03601c5c75' message=TextMessageContent(type='text', id='543075180902350851', text='ÔºÅ‰Ω†Â•Ω', emojis=None, mention=None, quote_token='yafNflnQng3nsakB7UJ5HmTvg-mWtI96Yu8pIbhAPK61A4QH7Tl3vlDOz8bX2yKKTcHVeS1Krfjlo0roEuIsbc3E237VddZ5TRYLuB8KQaFTxsPNd49qzih365Fhh-aFt-6wN825IUOQxs-kyNgrTw', quoted_message_id=None)
2025-01-11 01:15:37,302 - INFO - Message handled successfully
2025-01-11 01:15:37,304 - INFO - 127.0.0.1 - - [11/Jan/2025 01:15:37] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:15:50,799 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075204105502849","quoteToken":"ffcDluqU0SSdrdQQwwHfAiHVL03Qz9siSAxYej5BDytJkWzyc6aP5nvAeTp-HTj6bh63ZB0DJqo3TPyiF4GlMqQI_Y36A9Vsg2TQHSJt3JlHRaeIRcmJUiM2P05MAo-23a16GFVeerAi6inhIoC5oQ","text":"ÔºÅB"},"webhookEventId":"01JH8KE41GH0SEBTY3AF66NWH4","deliveryContext":{"isRedelivery":false},"timestamp":1736529350277,"source":{"type":"group","groupId":"C6ab768f2ac52e2e4fe4919191d8509b3","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"5495cf0d0b224409adccd3cfef38440f","mode":"active"}]}
2025-01-11 01:15:50,802 - INFO - Received message event: type='message' source=GroupSource(type='group', group_id='C6ab768f2ac52e2e4fe4919191d8509b3', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529350277 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KE41GH0SEBTY3AF66NWH4' delivery_context=DeliveryContext(is_redelivery=False) reply_token='5495cf0d0b224409adccd3cfef38440f' message=TextMessageContent(type='text', id='543075204105502849', text='ÔºÅB', emojis=None, mention=None, quote_token='ffcDluqU0SSdrdQQwwHfAiHVL03Qz9siSAxYej5BDytJkWzyc6aP5nvAeTp-HTj6bh63ZB0DJqo3TPyiF4GlMqQI_Y36A9Vsg2TQHSJt3JlHRaeIRcmJUiM2P05MAo-23a16GFVeerAi6inhIoC5oQ', quoted_message_id=None)
2025-01-11 01:15:50,922 - INFO - Message handled successfully
2025-01-11 01:15:50,923 - INFO - 127.0.0.1 - - [11/Jan/2025 01:15:50] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:15:58,661 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075217342726257","quoteToken":"6X3qUH0Tb0fhDfcz3IFroEAAXQ3_NCcNvaL1RGdrnNVsrsA3DTVdyhcIBKhZboooX2nd7cjRV7Rj7nx_m1xsBTuYuvjx6ssKVZiVqJKgLTXiXN8vELXY15Pb_stHDe1DYL4jdT0JEETtSq2Id8Cklw","text":"!C"},"webhookEventId":"01JH8KEBQM7CNCT0B3HR4EMXYZ","deliveryContext":{"isRedelivery":false},"timestamp":1736529358170,"source":{"type":"group","groupId":"C6ab768f2ac52e2e4fe4919191d8509b3","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"47ae4e8a711141fcb8ade94da7e1c3ab","mode":"active"}]}
2025-01-11 01:15:58,664 - INFO - Received message event: type='message' source=GroupSource(type='group', group_id='C6ab768f2ac52e2e4fe4919191d8509b3', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529358170 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KEBQM7CNCT0B3HR4EMXYZ' delivery_context=DeliveryContext(is_redelivery=False) reply_token='47ae4e8a711141fcb8ade94da7e1c3ab' message=TextMessageContent(type='text', id='543075217342726257', text='!C', emojis=None, mention=None, quote_token='6X3qUH0Tb0fhDfcz3IFroEAAXQ3_NCcNvaL1RGdrnNVsrsA3DTVdyhcIBKhZboooX2nd7cjRV7Rj7nx_m1xsBTuYuvjx6ssKVZiVqJKgLTXiXN8vELXY15Pb_stHDe1DYL4jdT0JEETtSq2Id8Cklw', quoted_message_id=None)
2025-01-11 01:15:58,757 - INFO - Message handled successfully
2025-01-11 01:15:58,758 - INFO - 127.0.0.1 - - [11/Jan/2025 01:15:58] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:16:12,373 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075240729903169","quoteToken":"AgQC61UAIxyPrv384lI9tf7zvCsL0Xlg6MZ-pLSQlF4MwOb_lIXIQjkGp-M79w0rS5OggBmAE5-e92W2SYv9j3hYdllfGuPZHzZ359sz1ofrfBkJMEg5iDKT61DTkLq20RJ5_ZMJlhLgCnfcPlwOeQ","text":"‰Ω†Â•Ω"},"webhookEventId":"01JH8KES45EW83MXCXTE35B4S3","deliveryContext":{"isRedelivery":false},"timestamp":1736529372109,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"05af0a58658344a1ad5a6dd8b94dbc20","mode":"active"}]}
2025-01-11 01:16:12,377 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529372109 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KES45EW83MXCXTE35B4S3' delivery_context=DeliveryContext(is_redelivery=False) reply_token='05af0a58658344a1ad5a6dd8b94dbc20' message=TextMessageContent(type='text', id='543075240729903169', text='‰Ω†Â•Ω', emojis=None, mention=None, quote_token='AgQC61UAIxyPrv384lI9tf7zvCsL0Xlg6MZ-pLSQlF4MwOb_lIXIQjkGp-M79w0rS5OggBmAE5-e92W2SYv9j3hYdllfGuPZHzZ359sz1ofrfBkJMEg5iDKT61DTkLq20RJ5_ZMJlhLgCnfcPlwOeQ', quoted_message_id=None)
2025-01-11 01:16:12,483 - INFO - Message handled successfully
2025-01-11 01:16:12,485 - INFO - 127.0.0.1 - - [11/Jan/2025 01:16:12] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:16:17,872 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075249454055441","quoteToken":"5ZQ-6Ixffl7JP5Qhi_RQpDEDEup24SwEO0pRv_FqSQMwTeqeqp9yHJQIvNdJKiVrszU8i7sd6riW4GbAw8T-z0TQF9D44eBSPtIhvdH3XYRasNmjxxJ8uLFPjL5XcdejsMzzahNLDXN8DNMTVpmGIQ","text":"B"},"webhookEventId":"01JH8KEYGT1FKP2FN392FV0YXV","deliveryContext":{"isRedelivery":false},"timestamp":1736529377310,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"5397ef7d8aec41158f4f00e196d94193","mode":"active"}]}
2025-01-11 01:16:17,875 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529377310 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KEYGT1FKP2FN392FV0YXV' delivery_context=DeliveryContext(is_redelivery=False) reply_token='5397ef7d8aec41158f4f00e196d94193' message=TextMessageContent(type='text', id='543075249454055441', text='B', emojis=None, mention=None, quote_token='5ZQ-6Ixffl7JP5Qhi_RQpDEDEup24SwEO0pRv_FqSQMwTeqeqp9yHJQIvNdJKiVrszU8i7sd6riW4GbAw8T-z0TQF9D44eBSPtIhvdH3XYRasNmjxxJ8uLFPjL5XcdejsMzzahNLDXN8DNMTVpmGIQ', quoted_message_id=None)
2025-01-11 01:16:17,982 - INFO - Message handled successfully
2025-01-11 01:16:17,983 - INFO - 127.0.0.1 - - [11/Jan/2025 01:16:17] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:16:24,058 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075259990147173","quoteToken":"rA9Hz5SHUJtLkcrqP8kbZbNKV_liarSB8-LbTfr0WVAbLYy8CPq0omeOD0_mq671Kwja_0C5bgUwIF4-WoAk4KYkhB505JwVnf3mzfOxWTn7t5tGuRsZi_YmKn8gcH0_eh76bGilhRRJL0mohJ62Yw","text":"ÂàáÊèõË∫´‰ªΩ"},"webhookEventId":"01JH8KF4GW0WKH98B22DGVAN41","deliveryContext":{"isRedelivery":false},"timestamp":1736529383592,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"f7f61e54840049de8a06e83ab3be701d","mode":"active"}]}
2025-01-11 01:16:24,061 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529383592 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KF4GW0WKH98B22DGVAN41' delivery_context=DeliveryContext(is_redelivery=False) reply_token='f7f61e54840049de8a06e83ab3be701d' message=TextMessageContent(type='text', id='543075259990147173', text='ÂàáÊèõË∫´‰ªΩ', emojis=None, mention=None, quote_token='rA9Hz5SHUJtLkcrqP8kbZbNKV_liarSB8-LbTfr0WVAbLYy8CPq0omeOD0_mq671Kwja_0C5bgUwIF4-WoAk4KYkhB505JwVnf3mzfOxWTn7t5tGuRsZi_YmKn8gcH0_eh76bGilhRRJL0mohJ62Yw', quoted_message_id=None)
2025-01-11 01:16:28,852 - INFO - Message handled successfully
2025-01-11 01:16:28,853 - INFO - 127.0.0.1 - - [11/Jan/2025 01:16:28] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:17:26,069 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075259990147173","quoteToken":"rA9Hz5SHUJtLkcrqP8kbZbNKV_liarSB8-LbTfr0WVAbLYy8CPq0omeOD0_mq671Kwja_0C5bgUwIF4-WoAk4KYkhB505JwVnf3mzfOxWTn7t5tGuRsZi_YmKn8gcH0_eh76bGilhRRJL0mohJ62Yw","text":"ÂàáÊèõË∫´‰ªΩ"},"webhookEventId":"01JH8KF4GW0WKH98B22DGVAN41","deliveryContext":{"isRedelivery":true},"timestamp":1736529383592,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"f7f61e54840049de8a06e83ab3be701d","mode":"active"}]}
2025-01-11 01:17:26,075 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529383592 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KF4GW0WKH98B22DGVAN41' delivery_context=DeliveryContext(is_redelivery=True) reply_token='f7f61e54840049de8a06e83ab3be701d' message=TextMessageContent(type='text', id='543075259990147173', text='ÂàáÊèõË∫´‰ªΩ', emojis=None, mention=None, quote_token='rA9Hz5SHUJtLkcrqP8kbZbNKV_liarSB8-LbTfr0WVAbLYy8CPq0omeOD0_mq671Kwja_0C5bgUwIF4-WoAk4KYkhB505JwVnf3mzfOxWTn7t5tGuRsZi_YmKn8gcH0_eh76bGilhRRJL0mohJ62Yw', quoted_message_id=None)
2025-01-11 01:17:27,136 - ERROR - Error in handle_personal_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '6bf9db60-4787-4d64-9d40-152a3c925994', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 193, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '6bf9db60-4787-4d64-9d40-152a3c925994', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:17:27,588 - ERROR - Error in handle_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '1b9d2d20-ebb5-4348-a0f5-5bb39f78beec', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 193, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '6bf9db60-4787-4d64-9d40-152a3c925994', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 315, in handle_message
    handle_personal_message(event, user_id, text)
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 202, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '1b9d2d20-ebb5-4348-a0f5-5bb39f78beec', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:17:27,791 - ERROR - Error sending error message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '063ef762-5d42-438c-a162-3a4f52d8b3ad', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 193, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '6bf9db60-4787-4d64-9d40-152a3c925994', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 315, in handle_message
    handle_personal_message(event, user_id, text)
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 202, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '1b9d2d20-ebb5-4348-a0f5-5bb39f78beec', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 320, in handle_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '063ef762-5d42-438c-a162-3a4f52d8b3ad', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:17:27 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:17:27,826 - INFO - Message handled successfully
2025-01-11 01:17:27,827 - INFO - 127.0.0.1 - - [11/Jan/2025 01:17:27] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:21:56,761 - WARNING - 
            Êú™ÊâæÂà∞ ffmpegÔºåË™ûÈü≥ÂäüËÉΩÂèØËÉΩÁÑ°Ê≥ïÊ≠£Â∏∏Â∑•‰Ωú„ÄÇ
            Ë´ãÂÆâË£ù ffmpeg:
            - Windows: https://ffmpeg.org/download.html
            - Linux: sudo apt-get install ffmpeg
            - Mac: brew install ffmpeg
            
2025-01-11 01:21:56,804 - INFO - Starting LINE Bot service...
2025-01-11 01:22:02,000 - INFO - Ngrok URL: https://d768-61-61-4-25.ngrok-free.app
2025-01-11 01:22:02,001 - INFO - LINE Bot Webhook URL: https://d768-61-61-4-25.ngrok-free.app/callback
2025-01-11 01:22:16,916 - INFO - Scheduler started
2025-01-11 01:22:16,924 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 01:22:16,925 - INFO - Added daily notification: Êó©ÂÆâÔºÅÈ°òÁ•ûÁ•ùÁ¶èÂ§ßÂÆ∂‰ªäÂ§©ÊúâÁæéÂ•ΩÁöÑ‰∏ÄÂ§©ÔºÅ...
2025-01-11 01:22:16,926 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 01:22:16,926 - INFO - Added daily notification: ÊôöÂÆâÔºÅÈ°òÁ•û‰øùÂÆàÂ§ßÂÆ∂ÊúâÂÄãÂ•ΩÂ§¢ÔºÅ...
2025-01-11 01:22:16,927 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 01:22:16,928 - INFO - Added weekly notification: Êú¨ÈÄ±ËÆÄÁ∂ìÈÄ≤Â∫¶ÊèêÈÜíÔºö
1. Ââµ‰∏ñË®òÁ¨¨‰∏ÄÁ´†
2. Ë©©ÁØáÁ¨¨‰∏ÄÁØá...
2025-01-11 01:22:16,930 - ERROR - Error adding specific date notification: can't compare offset-naive and offset-aware datetimes
2025-01-11 01:22:17,168 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 01:22:16]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 01:22:16

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 01:22:17,171 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 01:22:17,174 - INFO - Chat history loaded successfully
2025-01-11 01:22:17,179 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-01-11 01:22:17,181 - INFO - Added job "save_chat_history" to job store "default"
2025-01-11 01:22:17,182 - INFO - Scheduler started
2025-01-11 01:22:17,184 - INFO - LINE Bot service started on port 5000
2025-01-11 01:22:17,208 - INFO -  * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
2025-01-11 01:22:42,117 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075894286614626","quoteToken":"Hzb84XDm5ge1MbK72m86O84yzbfyvwBe_jGMT0ACFpuxBrIELdkHNiLr0r3ilDtNs3k5WA1oKRs64serJw6GFxvKfKdqYTq-ikJY9nec3sNeHZxhVsKfbI-yZ0R40Iu7IMkZ1bWs3Y3-Y97zf_dE9w","text":"‰Ω†Â•Ω"},"webhookEventId":"01JH8KTNPQPTKXKTDHRMW2X5XF","deliveryContext":{"isRedelivery":false},"timestamp":1736529761674,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"98f0efcec439479b8ea11815a82ad2c7","mode":"active"}]}
2025-01-11 01:22:42,120 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529761674 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KTNPQPTKXKTDHRMW2X5XF' delivery_context=DeliveryContext(is_redelivery=False) reply_token='98f0efcec439479b8ea11815a82ad2c7' message=TextMessageContent(type='text', id='543075894286614626', text='‰Ω†Â•Ω', emojis=None, mention=None, quote_token='Hzb84XDm5ge1MbK72m86O84yzbfyvwBe_jGMT0ACFpuxBrIELdkHNiLr0r3ilDtNs3k5WA1oKRs64serJw6GFxvKfKdqYTq-ikJY9nec3sNeHZxhVsKfbI-yZ0R40Iu7IMkZ1bWs3Y3-Y97zf_dE9w', quoted_message_id=None)
2025-01-11 01:22:42,304 - INFO - Message handled successfully
2025-01-11 01:22:42,306 - INFO - 127.0.0.1 - - [11/Jan/2025 01:22:42] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:22:46,600 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075901550887201","quoteToken":"MIERvJ4bFKhBawxXqWeJz_UdQ6avyqnnJ5UePusoqcqoliQPiOWvt9x9uI5d6DeZQmQE0ovtGiRhd38XA2JhqIEvX12qIdgunCEdgW-1vyL5UXNn9c2FpnkFIhDlMSW_P-PhK-U6CWZv9xUdg28eFw","text":"B"},"webhookEventId":"01JH8KTT36M8BVZHAT03B8AJ4S","deliveryContext":{"isRedelivery":false},"timestamp":1736529765996,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"b01fd89a576b4edf8c4582c0e3fb3eff","mode":"active"}]}
2025-01-11 01:22:46,603 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529765996 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KTT36M8BVZHAT03B8AJ4S' delivery_context=DeliveryContext(is_redelivery=False) reply_token='b01fd89a576b4edf8c4582c0e3fb3eff' message=TextMessageContent(type='text', id='543075901550887201', text='B', emojis=None, mention=None, quote_token='MIERvJ4bFKhBawxXqWeJz_UdQ6avyqnnJ5UePusoqcqoliQPiOWvt9x9uI5d6DeZQmQE0ovtGiRhd38XA2JhqIEvX12qIdgunCEdgW-1vyL5UXNn9c2FpnkFIhDlMSW_P-PhK-U6CWZv9xUdg28eFw', quoted_message_id=None)
2025-01-11 01:22:46,730 - INFO - Message handled successfully
2025-01-11 01:22:46,730 - INFO - 127.0.0.1 - - [11/Jan/2025 01:22:46] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:22:52,836 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075911969538261","quoteToken":"_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g","text":"ÂàáÊèõË∫´‰ªΩ"},"webhookEventId":"01JH8KV055GCQ0090Z5T73BXZ4","deliveryContext":{"isRedelivery":false},"timestamp":1736529772205,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"903cd9c5ff594030b3ce0148518cbd9a","mode":"active"}]}
2025-01-11 01:22:52,839 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529772205 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KV055GCQ0090Z5T73BXZ4' delivery_context=DeliveryContext(is_redelivery=False) reply_token='903cd9c5ff594030b3ce0148518cbd9a' message=TextMessageContent(type='text', id='543075911969538261', text='ÂàáÊèõË∫´‰ªΩ', emojis=None, mention=None, quote_token='_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g', quoted_message_id=None)
2025-01-11 01:22:59,341 - INFO - Message handled successfully
2025-01-11 01:22:59,342 - INFO - 127.0.0.1 - - [11/Jan/2025 01:22:59] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:23:54,827 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075911969538261","quoteToken":"_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g","text":"ÂàáÊèõË∫´‰ªΩ"},"webhookEventId":"01JH8KV055GCQ0090Z5T73BXZ4","deliveryContext":{"isRedelivery":true},"timestamp":1736529772205,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"903cd9c5ff594030b3ce0148518cbd9a","mode":"active"}]}
2025-01-11 01:23:54,830 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529772205 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KV055GCQ0090Z5T73BXZ4' delivery_context=DeliveryContext(is_redelivery=True) reply_token='903cd9c5ff594030b3ce0148518cbd9a' message=TextMessageContent(type='text', id='543075911969538261', text='ÂàáÊèõË∫´‰ªΩ', emojis=None, mention=None, quote_token='_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g', quoted_message_id=None)
2025-01-11 01:23:59,823 - ERROR - Error in handle_personal_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'c04ce429-fb94-4104-a663-2f062a347227', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:23:59 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:23:59 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'c04ce429-fb94-4104-a663-2f062a347227', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:23:59 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:23:59 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:24:00,110 - ERROR - Error in handle_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '2f6141a4-aa22-4e4f-82cf-edf10e43df24', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:24:00 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:24:00 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'c04ce429-fb94-4104-a663-2f062a347227', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:23:59 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:23:59 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    handle_personal_message(event, user_id, text)
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '2f6141a4-aa22-4e4f-82cf-edf10e43df24', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:24:00 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:24:00 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:24:00,281 - ERROR - Error sending error message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'ef44e53f-a263-47af-a13b-161463ffcafd', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:24:00 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:24:00 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'c04ce429-fb94-4104-a663-2f062a347227', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:23:59 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:23:59 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    handle_personal_message(event, user_id, text)
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '2f6141a4-aa22-4e4f-82cf-edf10e43df24', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:24:00 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:24:00 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 353, in handle_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'ef44e53f-a263-47af-a13b-161463ffcafd', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:24:00 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:24:00 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:24:00,344 - INFO - Message handled successfully
2025-01-11 01:24:00,345 - INFO - 127.0.0.1 - - [11/Jan/2025 01:24:00] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:24:43,339 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543076097408368961","quoteToken":"ez7YouQKuCTkULjOJ2GqhdS1ASUVlnolktPFPodf3dkbaV9jxKdnjLljfDBjOFxjMfxh9qWD-whiLqNcsrGGm3wBsUn5DsQxuckDQ6xC5QxLLgwTw0reW8KjuCRnGy8cKn_Yu_zxVKquE-YlapcLmA","text":"ÔºÅ‰Ω†Â•Ω"},"webhookEventId":"01JH8KYC3749WRHRPC4678QVPA","deliveryContext":{"isRedelivery":false},"timestamp":1736529882734,"source":{"type":"group","groupId":"C6ab768f2ac52e2e4fe4919191d8509b3","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"08b2fcfa97e742c499b5dffe89e9a516","mode":"active"}]}
2025-01-11 01:24:43,341 - INFO - Received message event: type='message' source=GroupSource(type='group', group_id='C6ab768f2ac52e2e4fe4919191d8509b3', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529882734 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KYC3749WRHRPC4678QVPA' delivery_context=DeliveryContext(is_redelivery=False) reply_token='08b2fcfa97e742c499b5dffe89e9a516' message=TextMessageContent(type='text', id='543076097408368961', text='ÔºÅ‰Ω†Â•Ω', emojis=None, mention=None, quote_token='ez7YouQKuCTkULjOJ2GqhdS1ASUVlnolktPFPodf3dkbaV9jxKdnjLljfDBjOFxjMfxh9qWD-whiLqNcsrGGm3wBsUn5DsQxuckDQ6xC5QxLLgwTw0reW8KjuCRnGy8cKn_Yu_zxVKquE-YlapcLmA', quoted_message_id=None)
2025-01-11 01:24:43,526 - INFO - Message handled successfully
2025-01-11 01:24:43,527 - INFO - 127.0.0.1 - - [11/Jan/2025 01:24:43] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:24:48,002 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543076105981526369","quoteToken":"2H-z4HC-pFxYSr4UXJs7MJycpnjkVwrIzqXBfW-6M42WXoKKhbGJHwV_mTOJOhnv-dKFTDXKlPpPfyOeJfY7UX_EUGqVyeZBT1cwjk10eJ21PkAvG-TFIPpQjI8zQfRolnHwDY2JwVIc7DI2Ag580g","text":"ÔºÅB"},"webhookEventId":"01JH8KYGP5319TRME25YXHAWN5","deliveryContext":{"isRedelivery":false},"timestamp":1736529887842,"source":{"type":"group","groupId":"C6ab768f2ac52e2e4fe4919191d8509b3","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"88708dd8c4e34a869e995898c249ab45","mode":"active"}]}
2025-01-11 01:24:48,005 - INFO - Received message event: type='message' source=GroupSource(type='group', group_id='C6ab768f2ac52e2e4fe4919191d8509b3', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529887842 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KYGP5319TRME25YXHAWN5' delivery_context=DeliveryContext(is_redelivery=False) reply_token='88708dd8c4e34a869e995898c249ab45' message=TextMessageContent(type='text', id='543076105981526369', text='ÔºÅB', emojis=None, mention=None, quote_token='2H-z4HC-pFxYSr4UXJs7MJycpnjkVwrIzqXBfW-6M42WXoKKhbGJHwV_mTOJOhnv-dKFTDXKlPpPfyOeJfY7UX_EUGqVyeZBT1cwjk10eJ21PkAvG-TFIPpQjI8zQfRolnHwDY2JwVIc7DI2Ag580g', quoted_message_id=None)
2025-01-11 01:24:48,129 - INFO - Message handled successfully
2025-01-11 01:24:48,130 - INFO - 127.0.0.1 - - [11/Jan/2025 01:24:48] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:24:56,853 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075911969538261","quoteToken":"_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g","text":"ÂàáÊèõË∫´‰ªΩ"},"webhookEventId":"01JH8KV055GCQ0090Z5T73BXZ4","deliveryContext":{"isRedelivery":true},"timestamp":1736529772205,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"903cd9c5ff594030b3ce0148518cbd9a","mode":"active"}]}
2025-01-11 01:24:56,856 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529772205 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KV055GCQ0090Z5T73BXZ4' delivery_context=DeliveryContext(is_redelivery=True) reply_token='903cd9c5ff594030b3ce0148518cbd9a' message=TextMessageContent(type='text', id='543075911969538261', text='ÂàáÊèõË∫´‰ªΩ', emojis=None, mention=None, quote_token='_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g', quoted_message_id=None)
2025-01-11 01:24:57,293 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543076121584337121","quoteToken":"jlAiXyOwRT8sCcbr7MLvkpKSLzkksuxHedLACmo0RUthLKWOHBkhrOC3Z4YTVfpihYSWSQZYnwLa8FYFfxnghNPqf4aoxjmI-USFZcGvtvlCTwvl4lCt3wvQaeluLEbniasFW_NVXPmBQOmCX_n_BQ","text":"!ÂàáÊèõË∫´‰ªΩ"},"webhookEventId":"01JH8KYSR4FMYDBSY4JMK8QY69","deliveryContext":{"isRedelivery":false},"timestamp":1736529897140,"source":{"type":"group","groupId":"C6ab768f2ac52e2e4fe4919191d8509b3","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"f30474eebb334ac4a803686457ae0863","mode":"active"}]}
2025-01-11 01:24:57,298 - INFO - Received message event: type='message' source=GroupSource(type='group', group_id='C6ab768f2ac52e2e4fe4919191d8509b3', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529897140 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KYSR4FMYDBSY4JMK8QY69' delivery_context=DeliveryContext(is_redelivery=False) reply_token='f30474eebb334ac4a803686457ae0863' message=TextMessageContent(type='text', id='543076121584337121', text='!ÂàáÊèõË∫´‰ªΩ', emojis=None, mention=None, quote_token='jlAiXyOwRT8sCcbr7MLvkpKSLzkksuxHedLACmo0RUthLKWOHBkhrOC3Z4YTVfpihYSWSQZYnwLa8FYFfxnghNPqf4aoxjmI-USFZcGvtvlCTwvl4lCt3wvQaeluLEbniasFW_NVXPmBQOmCX_n_BQ', quoted_message_id=None)
2025-01-11 01:24:59,021 - INFO - Message handled successfully
2025-01-11 01:24:59,022 - INFO - 127.0.0.1 - - [11/Jan/2025 01:24:59] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:25:01,847 - ERROR - Error in handle_personal_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '1161875a-7053-4efc-b5fd-f933ab98bab7', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:25:01 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:25:01 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '1161875a-7053-4efc-b5fd-f933ab98bab7', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:25:01 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:25:01 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:25:02,029 - ERROR - Error in handle_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '9f2c3e06-af7e-4997-9a2e-8b26eeb5a3e3', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:25:02 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:25:02 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '1161875a-7053-4efc-b5fd-f933ab98bab7', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:25:01 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:25:01 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    handle_personal_message(event, user_id, text)
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '9f2c3e06-af7e-4997-9a2e-8b26eeb5a3e3', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:25:02 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:25:02 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:25:02,208 - ERROR - Error sending error message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '902734fb-7df3-445b-9bf7-fc6717dc135d', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:25:02 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:25:02 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '1161875a-7053-4efc-b5fd-f933ab98bab7', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:25:01 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:25:01 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    handle_personal_message(event, user_id, text)
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '9f2c3e06-af7e-4997-9a2e-8b26eeb5a3e3', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:25:02 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:25:02 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 353, in handle_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '902734fb-7df3-445b-9bf7-fc6717dc135d', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:25:02 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:25:02 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:25:02,243 - INFO - Message handled successfully
2025-01-11 01:25:02,244 - INFO - 127.0.0.1 - - [11/Jan/2025 01:25:02] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:25:58,868 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075911969538261","quoteToken":"_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g","text":"ÂàáÊèõË∫´‰ªΩ"},"webhookEventId":"01JH8KV055GCQ0090Z5T73BXZ4","deliveryContext":{"isRedelivery":true},"timestamp":1736529772205,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"903cd9c5ff594030b3ce0148518cbd9a","mode":"active"}]}
2025-01-11 01:25:58,871 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529772205 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KV055GCQ0090Z5T73BXZ4' delivery_context=DeliveryContext(is_redelivery=True) reply_token='903cd9c5ff594030b3ce0148518cbd9a' message=TextMessageContent(type='text', id='543075911969538261', text='ÂàáÊèõË∫´‰ªΩ', emojis=None, mention=None, quote_token='_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g', quoted_message_id=None)
2025-01-11 01:26:04,274 - ERROR - Error in handle_personal_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '8de6c242-e183-46d2-877f-45a6db0c217c', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '8de6c242-e183-46d2-877f-45a6db0c217c', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:26:04,489 - ERROR - Error in handle_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '59b137e9-f3ac-490f-bf1c-54fd7e1ff9bd', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '8de6c242-e183-46d2-877f-45a6db0c217c', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    handle_personal_message(event, user_id, text)
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '59b137e9-f3ac-490f-bf1c-54fd7e1ff9bd', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:26:04,728 - ERROR - Error sending error message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '0b4d4803-bcd2-4e80-b261-1920b3283363', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '8de6c242-e183-46d2-877f-45a6db0c217c', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    handle_personal_message(event, user_id, text)
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '59b137e9-f3ac-490f-bf1c-54fd7e1ff9bd', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 353, in handle_message
    line_bot_api.reply_message(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '0b4d4803-bcd2-4e80-b261-1920b3283363', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:26:04 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:26:04,766 - INFO - Message handled successfully
2025-01-11 01:26:04,767 - INFO - 127.0.0.1 - - [11/Jan/2025 01:26:04] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:27:00,868 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075911969538261","quoteToken":"_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g","text":"ÂàáÊèõË∫´‰ªΩ"},"webhookEventId":"01JH8KV055GCQ0090Z5T73BXZ4","deliveryContext":{"isRedelivery":true},"timestamp":1736529772205,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"903cd9c5ff594030b3ce0148518cbd9a","mode":"active"}]}
2025-01-11 01:27:00,871 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529772205 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KV055GCQ0090Z5T73BXZ4' delivery_context=DeliveryContext(is_redelivery=True) reply_token='903cd9c5ff594030b3ce0148518cbd9a' message=TextMessageContent(type='text', id='543075911969538261', text='ÂàáÊèõË∫´‰ªΩ', emojis=None, mention=None, quote_token='_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g', quoted_message_id=None)
2025-01-11 01:27:07,311 - ERROR - Error in handle_personal_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'cbe0e35f-414c-4ab8-90a6-f2eb69b603b9', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'cbe0e35f-414c-4ab8-90a6-f2eb69b603b9', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:27:07,493 - ERROR - Error in handle_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'f6da3634-dfea-4f9a-9fed-c9f801e2604f', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'cbe0e35f-414c-4ab8-90a6-f2eb69b603b9', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    user_id = event.source.user_id
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    logger.error(f"Error in handle_personal_message: {e}", exc_info=True)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'f6da3634-dfea-4f9a-9fed-c9f801e2604f', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:27:07,669 - ERROR - Error sending error message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '41d5a3a2-fddc-4d63-8232-44836292a505', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'cbe0e35f-414c-4ab8-90a6-f2eb69b603b9', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    user_id = event.source.user_id
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    logger.error(f"Error in handle_personal_message: {e}", exc_info=True)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'f6da3634-dfea-4f9a-9fed-c9f801e2604f', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 353, in handle_message
    try:
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '41d5a3a2-fddc-4d63-8232-44836292a505', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:27:07 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:27:07,741 - INFO - Message handled successfully
2025-01-11 01:27:07,741 - INFO - 127.0.0.1 - - [11/Jan/2025 01:27:07] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:27:23,256 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543076365776715921","quoteToken":"5i9VO0xjbU-kXV1g92VTxSup736Lxvk-4JUExDtsnXVti5igNgDr26UVblc8IC2jWhwFphmMJiPeZKCya7nJHXfFu6ophi8pH6gRe4UVaVCo-80SJ6433OSO4Qe-yM6P6KdsIXkWqM9P01IgTx8y4Q","text":"ÔºÅÂàáÊèõËßíËâ≤"},"webhookEventId":"01JH8M388V1E87WE9QZ66X3E56","deliveryContext":{"isRedelivery":false},"timestamp":1736530042689,"source":{"type":"group","groupId":"C6ab768f2ac52e2e4fe4919191d8509b3","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"f9d037b9071f4ee6b809a4a37124304f","mode":"active"}]}
2025-01-11 01:27:23,258 - INFO - Received message event: type='message' source=GroupSource(type='group', group_id='C6ab768f2ac52e2e4fe4919191d8509b3', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736530042689 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8M388V1E87WE9QZ66X3E56' delivery_context=DeliveryContext(is_redelivery=False) reply_token='f9d037b9071f4ee6b809a4a37124304f' message=TextMessageContent(type='text', id='543076365776715921', text='ÔºÅÂàáÊèõËßíËâ≤', emojis=None, mention=None, quote_token='5i9VO0xjbU-kXV1g92VTxSup736Lxvk-4JUExDtsnXVti5igNgDr26UVblc8IC2jWhwFphmMJiPeZKCya7nJHXfFu6ophi8pH6gRe4UVaVCo-80SJ6433OSO4Qe-yM6P6KdsIXkWqM9P01IgTx8y4Q', quoted_message_id=None)
2025-01-11 01:27:23,482 - INFO - Message handled successfully
2025-01-11 01:27:23,483 - INFO - 127.0.0.1 - - [11/Jan/2025 01:27:23] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:27:31,091 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543076378963607571","quoteToken":"9baTFSFaVdpDjgA2Zsy0r5WizyC3NeCCTAtZEvbcW4nHUurqkzbUUhNnQ5xUUWNaDXhn99M0nzqwBaMKsvyOwKyjU54i9dq6ZuZGeDSPe-oyqtXyTd7DaraRVLraYX22Fn0G5369JpYKLh0rvSaqJw","text":"ÔºÅB"},"webhookEventId":"01JH8M3FYGV202C39RZQ8K1RT2","deliveryContext":{"isRedelivery":false},"timestamp":1736530050682,"source":{"type":"group","groupId":"C6ab768f2ac52e2e4fe4919191d8509b3","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"b10b2615c3b34985a78d6a08f54a491b","mode":"active"}]}
2025-01-11 01:27:31,094 - INFO - Received message event: type='message' source=GroupSource(type='group', group_id='C6ab768f2ac52e2e4fe4919191d8509b3', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736530050682 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8M3FYGV202C39RZQ8K1RT2' delivery_context=DeliveryContext(is_redelivery=False) reply_token='b10b2615c3b34985a78d6a08f54a491b' message=TextMessageContent(type='text', id='543076378963607571', text='ÔºÅB', emojis=None, mention=None, quote_token='9baTFSFaVdpDjgA2Zsy0r5WizyC3NeCCTAtZEvbcW4nHUurqkzbUUhNnQ5xUUWNaDXhn99M0nzqwBaMKsvyOwKyjU54i9dq6ZuZGeDSPe-oyqtXyTd7DaraRVLraYX22Fn0G5369JpYKLh0rvSaqJw', quoted_message_id=None)
2025-01-11 01:27:31,203 - INFO - Message handled successfully
2025-01-11 01:27:31,204 - INFO - 127.0.0.1 - - [11/Jan/2025 01:27:31] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:27:45,058 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543076402283675825","quoteToken":"NsALhhxDUOs68IeZe3do6y50Q47STD86dx4IMUmb7VXj8zt7RJPKIb3D5vJPiqARjulDybL0bhUukEIXUceOlSOk2SZ85RN_XELL7mfe077wlvBapkNYu6QOe8xefY6LCQ3Mi53xfWYRFEzATp_OkA","text":"ÂàáÊèõËßíËâ≤"},"webhookEventId":"01JH8M3XJ0E6EJYNYGGKN28K9X","deliveryContext":{"isRedelivery":false},"timestamp":1736530064454,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"fb4b6cbb17ce42f4b0129dd3fd49048d","mode":"active"}]}
2025-01-11 01:27:45,061 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736530064454 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8M3XJ0E6EJYNYGGKN28K9X' delivery_context=DeliveryContext(is_redelivery=False) reply_token='fb4b6cbb17ce42f4b0129dd3fd49048d' message=TextMessageContent(type='text', id='543076402283675825', text='ÂàáÊèõËßíËâ≤', emojis=None, mention=None, quote_token='NsALhhxDUOs68IeZe3do6y50Q47STD86dx4IMUmb7VXj8zt7RJPKIb3D5vJPiqARjulDybL0bhUukEIXUceOlSOk2SZ85RN_XELL7mfe077wlvBapkNYu6QOe8xefY6LCQ3Mi53xfWYRFEzATp_OkA', quoted_message_id=None)
2025-01-11 01:27:45,186 - INFO - Message handled successfully
2025-01-11 01:27:45,186 - INFO - 127.0.0.1 - - [11/Jan/2025 01:27:45] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:27:47,686 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543076406779969857","quoteToken":"f1oLRunXle1Txdfxx4ci40364aoE4UaBWP8B5p-k-aLBGrxfcVfz9b5D14-nUhdN7IzDySSZBcCEPby1AXXEeIPFFe5MNeQpZaFfohmFYRxE6D_m5cgHXj0Az2Bcv1eEh1jLV_KVOFGTuhkzMoqtsA","text":"B"},"webhookEventId":"01JH8M405XPMPS53EWGVM2PSX2","deliveryContext":{"isRedelivery":false},"timestamp":1736530067138,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"57e55bb0652e42fb91743e6831cd4c07","mode":"active"}]}
2025-01-11 01:27:47,691 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736530067138 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8M405XPMPS53EWGVM2PSX2' delivery_context=DeliveryContext(is_redelivery=False) reply_token='57e55bb0652e42fb91743e6831cd4c07' message=TextMessageContent(type='text', id='543076406779969857', text='B', emojis=None, mention=None, quote_token='f1oLRunXle1Txdfxx4ci40364aoE4UaBWP8B5p-k-aLBGrxfcVfz9b5D14-nUhdN7IzDySSZBcCEPby1AXXEeIPFFe5MNeQpZaFfohmFYRxE6D_m5cgHXj0Az2Bcv1eEh1jLV_KVOFGTuhkzMoqtsA', quoted_message_id=None)
2025-01-11 01:27:47,815 - INFO - Message handled successfully
2025-01-11 01:27:47,816 - INFO - 127.0.0.1 - - [11/Jan/2025 01:27:47] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:28:02,870 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075911969538261","quoteToken":"_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g","text":"ÂàáÊèõË∫´‰ªΩ"},"webhookEventId":"01JH8KV055GCQ0090Z5T73BXZ4","deliveryContext":{"isRedelivery":true},"timestamp":1736529772205,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"903cd9c5ff594030b3ce0148518cbd9a","mode":"active"}]}
2025-01-11 01:28:02,873 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529772205 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KV055GCQ0090Z5T73BXZ4' delivery_context=DeliveryContext(is_redelivery=True) reply_token='903cd9c5ff594030b3ce0148518cbd9a' message=TextMessageContent(type='text', id='543075911969538261', text='ÂàáÊèõË∫´‰ªΩ', emojis=None, mention=None, quote_token='_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g', quoted_message_id=None)
2025-01-11 01:28:13,872 - ERROR - Error in handle_personal_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '6742486d-9731-4851-8f6f-82ff7098fb9e', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:28:13 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:28:13 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '6742486d-9731-4851-8f6f-82ff7098fb9e', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:28:13 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:28:13 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:28:14,037 - ERROR - Error in handle_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'a63c5527-43ac-44d1-9fdc-a82238465ea9', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:28:14 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:28:14 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '6742486d-9731-4851-8f6f-82ff7098fb9e', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:28:13 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:28:13 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    user_id = event.source.user_id
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    logger.error(f"Error in handle_personal_message: {e}", exc_info=True)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'a63c5527-43ac-44d1-9fdc-a82238465ea9', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:28:14 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:28:14 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:28:14,291 - ERROR - Error sending error message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '06a9fb62-5aa1-4f8c-9dba-9fd885b5f342', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:28:14 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:28:14 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '6742486d-9731-4851-8f6f-82ff7098fb9e', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:28:13 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:28:13 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    user_id = event.source.user_id
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    logger.error(f"Error in handle_personal_message: {e}", exc_info=True)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'a63c5527-43ac-44d1-9fdc-a82238465ea9', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:28:14 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:28:14 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 353, in handle_message
    try:
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '06a9fb62-5aa1-4f8c-9dba-9fd885b5f342', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:28:14 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:28:14 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:28:14,322 - INFO - Message handled successfully
2025-01-11 01:28:14,323 - INFO - 127.0.0.1 - - [11/Jan/2025 01:28:14] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:28:15,240 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543076452883759137","quoteToken":"ormCTCofbbicND-dxZinj4Bzfa4NCCL9y_M402hgXID44fCrWP2sXjoDwuB4y_pPdDPUNiY4c7Ri6L4oJGL5CA1JHJvyip6sq6GdnsZgVfkvA037Jr790wJNlvckezPTK4mmDinCOE6v2bAxB1rHUQ","text":"Fight.k ÁöÑÈ†òË¢ñÊòØË™∞"},"webhookEventId":"01JH8M4V0DASBFMPDNK6AD4W2R","deliveryContext":{"isRedelivery":false},"timestamp":1736530094610,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"2015f66846054b17b4400afdab412b64","mode":"active"}]}
2025-01-11 01:28:15,243 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736530094610 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8M4V0DASBFMPDNK6AD4W2R' delivery_context=DeliveryContext(is_redelivery=False) reply_token='2015f66846054b17b4400afdab412b64' message=TextMessageContent(type='text', id='543076452883759137', text='Fight.k ÁöÑÈ†òË¢ñÊòØË™∞', emojis=None, mention=None, quote_token='ormCTCofbbicND-dxZinj4Bzfa4NCCL9y_M402hgXID44fCrWP2sXjoDwuB4y_pPdDPUNiY4c7Ri6L4oJGL5CA1JHJvyip6sq6GdnsZgVfkvA037Jr790wJNlvckezPTK4mmDinCOE6v2bAxB1rHUQ', quoted_message_id=None)
2025-01-11 01:28:21,998 - INFO - Message handled successfully
2025-01-11 01:28:21,999 - INFO - 127.0.0.1 - - [11/Jan/2025 01:28:21] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:28:47,378 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543076506839285809","quoteToken":"HZCKUJUkrRX4xmxFfjHZVFADRA8NKopFjfaUgqKHChOdb0Vtl6to-79Rr0kLRRgnJntQKZ_fi7E33yH5XFepAAUiDAFShIXJt44GXPOnGNH-V5BMTDj8AFFQZN_K_iPaFqqPDqXa87rdn7v4WGUdEg","text":"Fight.k ÁöÑÈ†òË¢ñÊòØÂºµËíôÊÅ©"},"webhookEventId":"01JH8M5TDDSK2MPTXGDJ2724VZ","deliveryContext":{"isRedelivery":false},"timestamp":1736530126769,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"0629f3ae22904924a5c5912e2f0f8598","mode":"active"}]}
2025-01-11 01:28:47,382 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736530126769 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8M5TDDSK2MPTXGDJ2724VZ' delivery_context=DeliveryContext(is_redelivery=False) reply_token='0629f3ae22904924a5c5912e2f0f8598' message=TextMessageContent(type='text', id='543076506839285809', text='Fight.k ÁöÑÈ†òË¢ñÊòØÂºµËíôÊÅ©', emojis=None, mention=None, quote_token='HZCKUJUkrRX4xmxFfjHZVFADRA8NKopFjfaUgqKHChOdb0Vtl6to-79Rr0kLRRgnJntQKZ_fi7E33yH5XFepAAUiDAFShIXJt44GXPOnGNH-V5BMTDj8AFFQZN_K_iPaFqqPDqXa87rdn7v4WGUdEg', quoted_message_id=None)
2025-01-11 01:28:52,691 - INFO - Message handled successfully
2025-01-11 01:28:52,692 - INFO - 127.0.0.1 - - [11/Jan/2025 01:28:52] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:29:04,892 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075911969538261","quoteToken":"_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g","text":"ÂàáÊèõË∫´‰ªΩ"},"webhookEventId":"01JH8KV055GCQ0090Z5T73BXZ4","deliveryContext":{"isRedelivery":true},"timestamp":1736529772205,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"903cd9c5ff594030b3ce0148518cbd9a","mode":"active"}]}
2025-01-11 01:29:04,895 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529772205 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KV055GCQ0090Z5T73BXZ4' delivery_context=DeliveryContext(is_redelivery=True) reply_token='903cd9c5ff594030b3ce0148518cbd9a' message=TextMessageContent(type='text', id='543075911969538261', text='ÂàáÊèõË∫´‰ªΩ', emojis=None, mention=None, quote_token='_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g', quoted_message_id=None)
2025-01-11 01:29:11,727 - ERROR - Error in handle_personal_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'b59e6e3d-7533-47b2-b94b-1c59595ed226', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'b59e6e3d-7533-47b2-b94b-1c59595ed226', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:29:11,885 - ERROR - Error in handle_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '8ffdd149-39a6-4d9e-af1f-560e7a2eb67f', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'b59e6e3d-7533-47b2-b94b-1c59595ed226', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    user_id = event.source.user_id
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    logger.error(f"Error in handle_personal_message: {e}", exc_info=True)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '8ffdd149-39a6-4d9e-af1f-560e7a2eb67f', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:29:12,025 - ERROR - Error sending error message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '38f6ed41-4044-415e-a011-c4b7bf75f53a', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:12 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:12 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'b59e6e3d-7533-47b2-b94b-1c59595ed226', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    user_id = event.source.user_id
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    logger.error(f"Error in handle_personal_message: {e}", exc_info=True)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '8ffdd149-39a6-4d9e-af1f-560e7a2eb67f', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:11 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 353, in handle_message
    try:
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '38f6ed41-4044-415e-a011-c4b7bf75f53a', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:12 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:12 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:29:12,055 - INFO - Message handled successfully
2025-01-11 01:29:12,056 - INFO - 127.0.0.1 - - [11/Jan/2025 01:29:12] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:29:12,807 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543076549319458818","quoteToken":"7Zbu4ItUdAyowSaPoqkA3-FtQkjj8poSdI3c6hIQiJCj0jSZ7hxWAp1pNICUEog4Nf6xzFIUt6m6kx_N_CK2flQRRSKVPGGeKzrzI1IR19ACKUtP2hUBffEreC3NddyMiVWAB0zp7RhVLswmTMG87A","text":"Fight.k ÁöÑÈ†òË¢ñÊòØË™∞"},"webhookEventId":"01JH8M6K8JJK3G0070WC8TBM5S","deliveryContext":{"isRedelivery":false},"timestamp":1736530152214,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"99059efab0484593b3ee33ada30b45a1","mode":"active"}]}
2025-01-11 01:29:12,811 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736530152214 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8M6K8JJK3G0070WC8TBM5S' delivery_context=DeliveryContext(is_redelivery=False) reply_token='99059efab0484593b3ee33ada30b45a1' message=TextMessageContent(type='text', id='543076549319458818', text='Fight.k ÁöÑÈ†òË¢ñÊòØË™∞', emojis=None, mention=None, quote_token='7Zbu4ItUdAyowSaPoqkA3-FtQkjj8poSdI3c6hIQiJCj0jSZ7hxWAp1pNICUEog4Nf6xzFIUt6m6kx_N_CK2flQRRSKVPGGeKzrzI1IR19ACKUtP2hUBffEreC3NddyMiVWAB0zp7RhVLswmTMG87A', quoted_message_id=None)
2025-01-11 01:29:17,241 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543076452883759137","quoteToken":"ormCTCofbbicND-dxZinj4Bzfa4NCCL9y_M402hgXID44fCrWP2sXjoDwuB4y_pPdDPUNiY4c7Ri6L4oJGL5CA1JHJvyip6sq6GdnsZgVfkvA037Jr790wJNlvckezPTK4mmDinCOE6v2bAxB1rHUQ","text":"Fight.k ÁöÑÈ†òË¢ñÊòØË™∞"},"webhookEventId":"01JH8M4V0DASBFMPDNK6AD4W2R","deliveryContext":{"isRedelivery":true},"timestamp":1736530094610,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"2015f66846054b17b4400afdab412b64","mode":"active"}]}
2025-01-11 01:29:17,244 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736530094610 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8M4V0DASBFMPDNK6AD4W2R' delivery_context=DeliveryContext(is_redelivery=True) reply_token='2015f66846054b17b4400afdab412b64' message=TextMessageContent(type='text', id='543076452883759137', text='Fight.k ÁöÑÈ†òË¢ñÊòØË™∞', emojis=None, mention=None, quote_token='ormCTCofbbicND-dxZinj4Bzfa4NCCL9y_M402hgXID44fCrWP2sXjoDwuB4y_pPdDPUNiY4c7Ri6L4oJGL5CA1JHJvyip6sq6GdnsZgVfkvA037Jr790wJNlvckezPTK4mmDinCOE6v2bAxB1rHUQ', quoted_message_id=None)
2025-01-11 01:29:18,720 - INFO - Message handled successfully
2025-01-11 01:29:18,722 - INFO - 127.0.0.1 - - [11/Jan/2025 01:29:18] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:29:23,321 - ERROR - Error in handle_personal_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '6261115c-8909-4dcc-88f2-d96ab32efbef', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '6261115c-8909-4dcc-88f2-d96ab32efbef', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:29:23,464 - ERROR - Error in handle_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'f9059dc1-3c25-40e8-b53f-1f8d80753f55', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '6261115c-8909-4dcc-88f2-d96ab32efbef', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    user_id = event.source.user_id
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    logger.error(f"Error in handle_personal_message: {e}", exc_info=True)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'f9059dc1-3c25-40e8-b53f-1f8d80753f55', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:29:23,691 - ERROR - Error sending error message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '5de3fa27-f566-4723-986b-9a8c2a50fc8a', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '6261115c-8909-4dcc-88f2-d96ab32efbef', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    user_id = event.source.user_id
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    logger.error(f"Error in handle_personal_message: {e}", exc_info=True)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': 'f9059dc1-3c25-40e8-b53f-1f8d80753f55', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 353, in handle_message
    try:
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '5de3fa27-f566-4723-986b-9a8c2a50fc8a', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:23 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:29:23,718 - INFO - Message handled successfully
2025-01-11 01:29:23,718 - INFO - 127.0.0.1 - - [11/Jan/2025 01:29:23] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:29:49,384 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543076506839285809","quoteToken":"HZCKUJUkrRX4xmxFfjHZVFADRA8NKopFjfaUgqKHChOdb0Vtl6to-79Rr0kLRRgnJntQKZ_fi7E33yH5XFepAAUiDAFShIXJt44GXPOnGNH-V5BMTDj8AFFQZN_K_iPaFqqPDqXa87rdn7v4WGUdEg","text":"Fight.k ÁöÑÈ†òË¢ñÊòØÂºµËíôÊÅ©"},"webhookEventId":"01JH8M5TDDSK2MPTXGDJ2724VZ","deliveryContext":{"isRedelivery":true},"timestamp":1736530126769,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"0629f3ae22904924a5c5912e2f0f8598","mode":"active"}]}
2025-01-11 01:29:49,387 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736530126769 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8M5TDDSK2MPTXGDJ2724VZ' delivery_context=DeliveryContext(is_redelivery=True) reply_token='0629f3ae22904924a5c5912e2f0f8598' message=TextMessageContent(type='text', id='543076506839285809', text='Fight.k ÁöÑÈ†òË¢ñÊòØÂºµËíôÊÅ©', emojis=None, mention=None, quote_token='HZCKUJUkrRX4xmxFfjHZVFADRA8NKopFjfaUgqKHChOdb0Vtl6to-79Rr0kLRRgnJntQKZ_fi7E33yH5XFepAAUiDAFShIXJt44GXPOnGNH-V5BMTDj8AFFQZN_K_iPaFqqPDqXa87rdn7v4WGUdEg', quoted_message_id=None)
2025-01-11 01:29:54,835 - ERROR - Error in handle_personal_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '970d8f0c-e0c9-4b6f-8b39-b6b7033f0135', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:54 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:54 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '970d8f0c-e0c9-4b6f-8b39-b6b7033f0135', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:54 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:54 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:29:54,987 - ERROR - Error in handle_message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '05be8add-ab8c-4716-842e-08b012a5113e', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:55 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:55 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '970d8f0c-e0c9-4b6f-8b39-b6b7033f0135', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:54 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:54 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    user_id = event.source.user_id
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    logger.error(f"Error in handle_personal_message: {e}", exc_info=True)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '05be8add-ab8c-4716-842e-08b012a5113e', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:55 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:55 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:29:55,233 - ERROR - Error sending error message: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '5591a093-9c36-406d-927f-ccd6472a24fc', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:55 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:55 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 204, in handle_personal_message
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '970d8f0c-e0c9-4b6f-8b39-b6b7033f0135', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:54 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:54 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 348, in handle_message
    user_id = event.source.user_id
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 213, in handle_personal_message
    logger.error(f"Error in handle_personal_message: {e}", exc_info=True)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '05be8add-ab8c-4716-842e-08b012a5113e', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:55 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:55 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 353, in handle_message
    try:
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6570, in reply_message
    return self.reply_message_with_http_info(reply_message_request, **kwargs)  # noqa: E501
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 40, in wrapper_function
    return vd.call(*args, **kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 134, in call
    return self.execute(m)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\pydantic\v1\decorator.py", line 206, in execute
    return self.raw_function(**d, **var_kwargs)
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api\messaging_api.py", line 6674, in reply_message_with_http_info
    return self.api_client.call_api(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 407, in call_api
    return self.__call_api(resource_path, method,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 222, in __call_api
    raise e
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 212, in __call_api
    response_data = self.request(
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\api_client.py", line 451, in request
    return self.rest_client.post_request(url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 270, in post_request
    return self.request("POST", url,
  File "E:\Python Project\FK_AI_Theology_Doctor\venv\lib\site-packages\linebot\v3\messaging\rest.py", line 229, in request
    raise ApiException(http_resp=r)
linebot.v3.messaging.exceptions.ApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Server': 'legy', 'Content-Type': 'application/json', 'x-content-type-options': 'nosniff', 'x-frame-options': 'DENY', 'x-line-request-id': '5591a093-9c36-406d-927f-ccd6472a24fc', 'x-xss-protection': '1; mode=block', 'Content-Length': '33', 'Expires': 'Fri, 10 Jan 2025 17:29:55 GMT', 'Cache-Control': 'max-age=0, no-cache, no-store', 'Pragma': 'no-cache', 'Date': 'Fri, 10 Jan 2025 17:29:55 GMT', 'Connection': 'close'})
HTTP response body: {"message":"Invalid reply token"}

2025-01-11 01:29:55,276 - INFO - Message handled successfully
2025-01-11 01:29:55,277 - INFO - 127.0.0.1 - - [11/Jan/2025 01:29:55] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:29:59,697 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"image","id":"543076628054671553","quoteToken":"dTUmT9_x94TglBcjGlYV6STyytI8IpQ3hyl1NVHM6Sda08mtcnoLRhOlkbR_dEsfstlEOskDXHfJW9_DYjWDDitrPDIWHe5_ilHFuu_yIDbdS3B2pDdxlKh_uLLZ2I0B6eYGmzHOWSamOEs1Z2C0pQ","contentProvider":{"type":"line"}},"webhookEventId":"01JH8M811ADDEV4XKW4JKRAYKB","deliveryContext":{"isRedelivery":false},"timestamp":1736530199090,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"8f601ee000664c5fb6afb72c1d2dc3db","mode":"active"}]}
2025-01-11 01:29:59,700 - INFO - Êî∂Âà∞ÂúñÁâáË®äÊÅØ
2025-01-11 01:29:59,701 - INFO - ÂúñÁâá ID: 543076628054671553
2025-01-11 01:29:59,701 - INFO - ÈñãÂßã‰∏ãËºâÂúñÁâá
2025-01-11 01:29:59,702 - ERROR - ËôïÁêÜÂúñÁâáÊôÇÁôºÁîüÈåØË™§: 'MessagingApi' object has no attribute 'get_message_content'
Traceback (most recent call last):
  File "E:\Python Project\FK_AI_Theology_Doctor\ui\line_bot_ui.py", line 501, in handle_image
    logger.info("ÈñãÂßã‰∏ãËºâÂúñÁâá")
AttributeError: 'MessagingApi' object has no attribute 'get_message_content'
2025-01-11 01:29:59,864 - INFO - Message handled successfully
2025-01-11 01:29:59,865 - INFO - 127.0.0.1 - - [11/Jan/2025 01:29:59] "POST /callback HTTP/1.1" 200 -
2025-01-11 01:30:06,901 - INFO - Request body: {"destination":"U96fc0873f979845891b94eb16ade02ab","events":[{"type":"message","message":{"type":"text","id":"543075911969538261","quoteToken":"_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g","text":"ÂàáÊèõË∫´‰ªΩ"},"webhookEventId":"01JH8KV055GCQ0090Z5T73BXZ4","deliveryContext":{"isRedelivery":true},"timestamp":1736529772205,"source":{"type":"user","userId":"U449870fffc8fd9e18b66fe46941fc84d"},"replyToken":"903cd9c5ff594030b3ce0148518cbd9a","mode":"active"}]}
2025-01-11 01:30:06,904 - INFO - Received message event: type='message' source=UserSource(type='user', user_id='U449870fffc8fd9e18b66fe46941fc84d') timestamp=1736529772205 mode=<EventMode.ACTIVE: 'active'> webhook_event_id='01JH8KV055GCQ0090Z5T73BXZ4' delivery_context=DeliveryContext(is_redelivery=True) reply_token='903cd9c5ff594030b3ce0148518cbd9a' message=TextMessageContent(type='text', id='543075911969538261', text='ÂàáÊèõË∫´‰ªΩ', emojis=None, mention=None, quote_token='_ASs8P1UjmG7dGtQgRnj1KKvf3Dp9lxvosW-2H8G8Qnt239lB2dFhhtnCC0dKgqImncAtP2at3j0Is6EYn5IEaMQ4PJH3xpXpVgYot3-fh8uxpB7fcUoDpBeImaDYvI77UITHHJ0vKfXbbA6eNCG5g', quoted_message_id=None)
2025-01-11 10:19:29,355 - WARNING - 
            Êú™ÊâæÂà∞ ffmpegÔºåË™ûÈü≥ÂäüËÉΩÂèØËÉΩÁÑ°Ê≥ïÊ≠£Â∏∏Â∑•‰Ωú„ÄÇ
            Ë´ãÂÆâË£ù ffmpeg:
            - Windows: https://ffmpeg.org/download.html
            - Linux: sudo apt-get install ffmpeg
            - Mac: brew install ffmpeg
            
2025-01-11 10:19:37,561 - INFO - Starting admin interface...
2025-01-11 10:19:45,656 - INFO - Scheduler started
2025-01-11 10:19:45,687 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:19:45,688 - INFO - Added daily notification: Êó©ÂÆâÔºÅÈ°òÁ•ûÁ•ùÁ¶èÂ§ßÂÆ∂‰ªäÂ§©ÊúâÁæéÂ•ΩÁöÑ‰∏ÄÂ§©ÔºÅ...
2025-01-11 10:19:45,689 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:19:45,690 - INFO - Added daily notification: ÊôöÂÆâÔºÅÈ°òÁ•û‰øùÂÆàÂ§ßÂÆ∂ÊúâÂÄãÂ•ΩÂ§¢ÔºÅ...
2025-01-11 10:19:45,691 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:19:45,691 - INFO - Added weekly notification: Êú¨ÈÄ±ËÆÄÁ∂ìÈÄ≤Â∫¶ÊèêÈÜíÔºö
1. Ââµ‰∏ñË®òÁ¨¨‰∏ÄÁ´†
2. Ë©©ÁØáÁ¨¨‰∏ÄÁØá...
2025-01-11 10:19:45,694 - ERROR - Error adding specific date notification: can't compare offset-naive and offset-aware datetimes
2025-01-11 10:19:45,949 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:19:45]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:19:45

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:19:45,953 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:19:57,500 - INFO - Scheduler started
2025-01-11 10:19:57,502 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:19:57,503 - INFO - Added daily notification: Êó©ÂÆâÔºÅÈ°òÁ•ûÁ•ùÁ¶èÂ§ßÂÆ∂‰ªäÂ§©ÊúâÁæéÂ•ΩÁöÑ‰∏ÄÂ§©ÔºÅ...
2025-01-11 10:19:57,504 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:19:57,505 - INFO - Added daily notification: ÊôöÂÆâÔºÅÈ°òÁ•û‰øùÂÆàÂ§ßÂÆ∂ÊúâÂÄãÂ•ΩÂ§¢ÔºÅ...
2025-01-11 10:19:57,506 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:19:57,507 - INFO - Added weekly notification: Êú¨ÈÄ±ËÆÄÁ∂ìÈÄ≤Â∫¶ÊèêÈÜíÔºö
1. Ââµ‰∏ñË®òÁ¨¨‰∏ÄÁ´†
2. Ë©©ÁØáÁ¨¨‰∏ÄÁØá...
2025-01-11 10:19:57,509 - ERROR - Error adding specific date notification: can't compare offset-naive and offset-aware datetimes
2025-01-11 10:19:57,730 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:19:57]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:19:57

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:19:57,736 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:20:09,681 - INFO - Scheduler started
2025-01-11 10:20:09,684 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:20:09,685 - INFO - Added daily notification: Êó©ÂÆâÔºÅÈ°òÁ•ûÁ•ùÁ¶èÂ§ßÂÆ∂‰ªäÂ§©ÊúâÁæéÂ•ΩÁöÑ‰∏ÄÂ§©ÔºÅ...
2025-01-11 10:20:09,687 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:20:09,689 - INFO - Added daily notification: ÊôöÂÆâÔºÅÈ°òÁ•û‰øùÂÆàÂ§ßÂÆ∂ÊúâÂÄãÂ•ΩÂ§¢ÔºÅ...
2025-01-11 10:20:09,691 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:20:09,692 - INFO - Added weekly notification: Êú¨ÈÄ±ËÆÄÁ∂ìÈÄ≤Â∫¶ÊèêÈÜíÔºö
1. Ââµ‰∏ñË®òÁ¨¨‰∏ÄÁ´†
2. Ë©©ÁØáÁ¨¨‰∏ÄÁØá...
2025-01-11 10:20:09,695 - ERROR - Error adding specific date notification: can't compare offset-naive and offset-aware datetimes
2025-01-11 10:20:09,954 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:20:09]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:20:09

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:20:09,960 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:21:24,730 - INFO - Scheduler started
2025-01-11 10:21:24,761 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:21:24,766 - INFO - Added daily notification: Êó©ÂÆâÔºÅÈ°òÁ•ûÁ•ùÁ¶èÂ§ßÂÆ∂‰ªäÂ§©ÊúâÁæéÂ•ΩÁöÑ‰∏ÄÂ§©ÔºÅ...
2025-01-11 10:21:24,769 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:21:24,770 - INFO - Added daily notification: ÊôöÂÆâÔºÅÈ°òÁ•û‰øùÂÆàÂ§ßÂÆ∂ÊúâÂÄãÂ•ΩÂ§¢ÔºÅ...
2025-01-11 10:21:24,772 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:21:24,773 - INFO - Added weekly notification: Êú¨ÈÄ±ËÆÄÁ∂ìÈÄ≤Â∫¶ÊèêÈÜíÔºö
1. Ââµ‰∏ñË®òÁ¨¨‰∏ÄÁ´†
2. Ë©©ÁØáÁ¨¨‰∏ÄÁØá...
2025-01-11 10:21:24,774 - ERROR - Error adding specific date notification: can't compare offset-naive and offset-aware datetimes
2025-01-11 10:21:24,994 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:21:24]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:21:24

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:21:24,998 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:21:31,710 - INFO - Scheduler started
2025-01-11 10:21:31,712 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:21:31,713 - INFO - Added daily notification: Êó©ÂÆâÔºÅÈ°òÁ•ûÁ•ùÁ¶èÂ§ßÂÆ∂‰ªäÂ§©ÊúâÁæéÂ•ΩÁöÑ‰∏ÄÂ§©ÔºÅ...
2025-01-11 10:21:31,714 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:21:31,715 - INFO - Added daily notification: ÊôöÂÆâÔºÅÈ°òÁ•û‰øùÂÆàÂ§ßÂÆ∂ÊúâÂÄãÂ•ΩÂ§¢ÔºÅ...
2025-01-11 10:21:31,717 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:21:31,718 - INFO - Added weekly notification: Êú¨ÈÄ±ËÆÄÁ∂ìÈÄ≤Â∫¶ÊèêÈÜíÔºö
1. Ââµ‰∏ñË®òÁ¨¨‰∏ÄÁ´†
2. Ë©©ÁØáÁ¨¨‰∏ÄÁØá...
2025-01-11 10:21:31,719 - ERROR - Error adding specific date notification: can't compare offset-naive and offset-aware datetimes
2025-01-11 10:21:31,933 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:21:31]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:21:31

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:21:31,938 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:21:58,786 - INFO - Scheduler started
2025-01-11 10:21:58,788 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:21:58,788 - INFO - Added daily notification: Êó©ÂÆâÔºÅÈ°òÁ•ûÁ•ùÁ¶èÂ§ßÂÆ∂‰ªäÂ§©ÊúâÁæéÂ•ΩÁöÑ‰∏ÄÂ§©ÔºÅ...
2025-01-11 10:21:58,789 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:21:58,790 - INFO - Added daily notification: ÊôöÂÆâÔºÅÈ°òÁ•û‰øùÂÆàÂ§ßÂÆ∂ÊúâÂÄãÂ•ΩÂ§¢ÔºÅ...
2025-01-11 10:21:58,792 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:21:58,792 - INFO - Added weekly notification: Êú¨ÈÄ±ËÆÄÁ∂ìÈÄ≤Â∫¶ÊèêÈÜíÔºö
1. Ââµ‰∏ñË®òÁ¨¨‰∏ÄÁ´†
2. Ë©©ÁØáÁ¨¨‰∏ÄÁØá...
2025-01-11 10:21:58,794 - ERROR - Error adding specific date notification: can't compare offset-naive and offset-aware datetimes
2025-01-11 10:21:59,002 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:21:58]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:21:58

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:21:59,013 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:32:29,153 - WARNING - 
            Êú™ÊâæÂà∞ ffmpegÔºåË™ûÈü≥ÂäüËÉΩÂèØËÉΩÁÑ°Ê≥ïÊ≠£Â∏∏Â∑•‰Ωú„ÄÇ
            Ë´ãÂÆâË£ù ffmpeg:
            - Windows: https://ffmpeg.org/download.html
            - Linux: sudo apt-get install ffmpeg
            - Mac: brew install ffmpeg
            
2025-01-11 10:32:36,873 - INFO - Starting admin interface...
2025-01-11 10:33:37,449 - WARNING - 
            Êú™ÊâæÂà∞ ffmpegÔºåË™ûÈü≥ÂäüËÉΩÂèØËÉΩÁÑ°Ê≥ïÊ≠£Â∏∏Â∑•‰Ωú„ÄÇ
            Ë´ãÂÆâË£ù ffmpeg:
            - Windows: https://ffmpeg.org/download.html
            - Linux: sudo apt-get install ffmpeg
            - Mac: brew install ffmpeg
            
2025-01-11 10:33:43,554 - INFO - Starting admin interface...
2025-01-11 10:33:49,619 - INFO - Scheduler started
2025-01-11 10:33:49,622 - INFO - Scheduler started
2025-01-11 10:33:49,627 - INFO - Scheduler started
2025-01-11 10:33:49,654 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:33:49,655 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:33:49,656 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:33:49,656 - INFO - Added weekly notification: 123...
2025-01-11 10:33:49,657 - INFO - Added weekly notification: 123...
2025-01-11 10:33:49,658 - INFO - Added weekly notification: 123...
2025-01-11 10:33:50,032 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:33:49]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:33:49

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:33:50,034 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:33:49]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:33:49

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:33:50,038 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:33:50,040 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:33:50,072 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:33:49]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:33:49

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:33:50,226 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:34:30,312 - INFO - Scheduler started
2025-01-11 10:34:30,314 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:34:30,315 - INFO - Added weekly notification: 123...
2025-01-11 10:34:30,525 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:34:30]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:34:30

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:34:30,530 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:34:32,497 - INFO - Scheduler started
2025-01-11 10:34:32,499 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:34:32,500 - INFO - Added weekly notification: 123...
2025-01-11 10:34:32,754 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:34:32]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:34:32

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:34:32,757 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:34:34,807 - INFO - Scheduler started
2025-01-11 10:34:34,810 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:34:34,811 - INFO - Added weekly notification: 123...
2025-01-11 10:34:35,014 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:34:34]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:34:34

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:34:35,017 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:34:46,310 - INFO - Scheduler started
2025-01-11 10:34:46,312 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:34:46,313 - INFO - Added weekly notification: 123...
2025-01-11 10:34:46,539 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:34:46]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:34:46

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:34:46,542 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:34:46,657 - INFO - Scheduler started
2025-01-11 10:34:46,659 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:34:46,660 - INFO - Added weekly notification: 123...
2025-01-11 10:34:46,859 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:34:46]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:34:46

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:34:46,871 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:34:49,587 - INFO - Scheduler started
2025-01-11 10:34:49,598 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:34:49,599 - INFO - Added weekly notification: 123...
2025-01-11 10:34:49,820 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:34:49]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:34:49

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:34:49,829 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:34:51,037 - INFO - Scheduler started
2025-01-11 10:34:51,038 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:34:51,039 - INFO - Added weekly notification: 123...
2025-01-11 10:34:51,279 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:34:51]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:34:51

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:34:51,283 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:35:14,437 - INFO - Scheduler started
2025-01-11 10:35:14,439 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:35:14,440 - INFO - Added weekly notification: 123...
2025-01-11 10:35:14,663 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:35:14]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:35:14

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö
  ‚è∞ 09:00 -...
2025-01-11 10:35:14,667 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:37:57,186 - WARNING - 
            Êú™ÊâæÂà∞ ffmpegÔºåË™ûÈü≥ÂäüËÉΩÂèØËÉΩÁÑ°Ê≥ïÊ≠£Â∏∏Â∑•‰Ωú„ÄÇ
            Ë´ãÂÆâË£ù ffmpeg:
            - Windows: https://ffmpeg.org/download.html
            - Linux: sudo apt-get install ffmpeg
            - Mac: brew install ffmpeg
            
2025-01-11 10:38:03,666 - INFO - Starting admin interface...
2025-01-11 10:38:10,873 - INFO - Scheduler started
2025-01-11 10:38:10,874 - INFO - Scheduler started
2025-01-11 10:38:10,886 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:38:10,887 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:38:10,887 - INFO - Added weekly notification: 123...
2025-01-11 10:38:10,888 - INFO - Added weekly notification: 123...
2025-01-11 10:38:11,123 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:38:10]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:38:10

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö


üìÖ ÊØèÈÄ±ÈÄöÁü•Ôºö

...
2025-01-11 10:38:11,127 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:38:11,223 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:38:10]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:38:10

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö


üìÖ ÊØèÈÄ±ÈÄöÁü•Ôºö

...
2025-01-11 10:38:11,227 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:38:25,004 - INFO - Scheduler started
2025-01-11 10:38:25,015 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:38:25,016 - INFO - Added weekly notification: 123...
2025-01-11 10:38:25,228 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:38:25]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:38:25

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö


üìÖ ÊØèÈÄ±ÈÄöÁü•Ôºö

...
2025-01-11 10:38:25,231 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
2025-01-11 10:38:27,371 - INFO - Scheduler started
2025-01-11 10:38:27,373 - INFO - Added job "MessageScheduler.send_message" to job store "default"
2025-01-11 10:38:27,374 - INFO - Added weekly notification: 123...
2025-01-11 10:38:27,577 - INFO - Successfully sent message to group C6ab768f2ac52e2e4fe4919191d8509b3: [2025-01-11 10:38:27]
ü§ñ Fight.K AI Âä©ÊâãÂïüÂãïÊ∏¨Ë©¶
‚è∞ ÂïüÂãïÊôÇÈñìÔºö2025-01-11 10:38:27

üìã ÊéíÁ®ãÈÄöÁü•ÂàóË°®Ôºö

üîÑ ÊØèÊó•ÈÄöÁü•Ôºö


üìÖ ÊØèÈÄ±ÈÄöÁü•Ôºö

...
2025-01-11 10:38:27,579 - INFO - Sent startup test message to group C6ab768f2ac52e2e4fe4919191d8509b3
